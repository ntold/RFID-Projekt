var digits = '0123456789abcdef'.split('')
var encodeLookup = []
var decodeLookup = {}

for (var i = 0; i < 256; i++) {
  var ones = i & 0xf
  var sixteens = i >> 4 & 0xf
  var string = digits[sixteens] + digits[ones]
  encodeLookup[i] = string
  decodeLookup[string] = i
  console.log(decodeLookup)
}

exports.encode = function (array) {
  var length = array.length
  var string = ''
  var i = 0
  while (i < length) {
    string += encodeLookup[array[i++]]
  }
  return string
}

exports.decode = function (string) {
  var sizeof = string.length >> 1
  var length = sizeof << 1
  var array = new Uint8Array(sizeof)
  var i = 0
  while (i < length) {
    array[i] = decodeLookup[string[i] + string[++i]]
  }
  return array
}
